<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>The Gaming Zone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&display=swap');
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Open Sans', sans-serif;
        }
        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background: #E3F2FD;
        }
        .wrapper {
            width: 65vmin;
            height: 70vmin;
            display: flex;
            overflow: hidden;
            flex-direction: column;
            justify-content: center; 
            border-radius: 5px;
            background: #293447;
            box-shadow: 0 20px 40px rgba(52, 87, 220, 0.2);
        }
        .game-details {
            color: #B8C6DC;
            font-weight: 500;
            font-size: 1.2rem;
            padding: 20px 27px;
            display: flex;
            justify-content: space-evenly;
        }
        .play-board {
            height: 100%;
            width: 100%;
            display: grid;
            background: #212837;
            grid-template: repeat(30, 1fr) / repeat(30, 1fr);
        }
        .play-board .food {
            background: #FF003D;
        }
        .play-board .head {
            background: #60CBFF;
        }
        .controls {
            display: none;
            justify-content: space-between;
        }
        .controls i {
            padding: 25px 0;
            text-align: center;
            font-size: 1.3rem;
            color: #B8C6DC;
            width: calc(100% / 4);
            cursor: pointer;
            border-right: 1px solid #171B26;
        }
        @media screen and (max-width: 800px) {
            .wrapper {
                width: 90vmin;
                height: 115vmin;
            }
            .game-details {
                font-size: 1rem;
                padding: 15px 27px;
            }
            .controls {
                display: flex;
            }
            .controls i {
                padding: 15px 0;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body class="bg-gray-900 text-white flex flex-col justify-between">
    <header class="bg-gray-800 py-4">
        <div class="container mx-auto text-center">
            <h1 class="text-4xl font-bold">The Gaming Zone</h1>
        </div>
    </header>
    <main class="container mx-auto py-8 px-4 flex-grow">
        <section class="mb-8">
            <div class="text-center mb-4">
                <h2 class="text-3xl font-semibold">Featured Games</h2>
            </div>
            <div class="flex flex-wrap justify-center gap-4">
                <div class="bg-gray-700 p-4 rounded-lg w-64 h-64 flex flex-col items-center justify-center">
                    <h3 class="text-xl font-bold mb-2">Snake Game</h3>
                    <img alt="Snake Game screenshot" class="mb-2" height="150" src="https://storage.googleapis.com/a1aa/image/_JCRnpV0hvNNOKLeFasSYkeqv4CquOApRdwxN_JP4HQ.jpg" width="150"/>
                    <a class="bg-blue-500 text-white px-4 py-2 rounded" href="#">Play Now</a>
                </div>
                <div class="bg-gray-700 p-4 rounded-lg w-64 h-64 flex flex-col items-center justify-center">
                    <h3 class="text-xl font-bold mb-2">Rock Paper Scissors</h3>
                    <img alt="Rock Paper Scissors screenshot" class="mb-2" height="150" src="https://storage.googleapis.com/a1aa/image/vRBH9hsxM2NQalLh_EYESHkyq3CUkfdtZHGdnAgcmrE.jpg" width="150"/>
                    <a class="bg-blue-500 text-white px-4 py-2 rounded" href="#">Play Now</a>
                </div>
                <div class="bg-gray-700 p-4 rounded-lg w-64 h-64 flex flex-col items-center justify-center">
                    <h3 class="text-xl font-bold mb-2">More Games Coming Soon</h3>
                    <img alt="Coming Soon Poster" class="mb-2" height="150" src="https://storage.googleapis.com/a1aa/image/UPkRpYSjawZMGji1mG1xREY1yYzlHZ0aMjoCTIQfxMM.jpg" width="150"/>
                    <span class="bg-gray-500 text-white px-4 py-2 rounded">Stay Tuned!</span>
                </div>
            </div>
        </section>
        <section class="bg-gray-800 p-8 rounded-lg">
            <h2 class="text-2xl font-semibold mb-4">Snake Game</h2>
            <div class="flex justify-center">
                <div class="wrapper">
                    <div class="game-details">
                        <span class="score">Score: 0</span>
                        <span class="high-score">High Score: 0</span>
                    </div>
                    <div class="play-board"></div>
                    <div class="controls">
                        <i data-key="ArrowLeft" class="fa-solid fa-arrow-left-long"></i>
                        <i data-key="ArrowUp" class="fa-solid fa-arrow-up-long"></i>
                        <i data-key="ArrowRight" class="fa-solid fa-arrow-right-long"></i>
                        <i data-key="ArrowDown" class="fa-solid fa-arrow-down-long"></i>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="bg-gray-800 py-4">
        <div class="container mx-auto text-center">
            <p>Â© 2023 The Gaming Zone. All rights reserved.</p>
        </div>
    </footer>
    <script>
        const playBoard = document.querySelector(".play-board");
        const scoreElement = document.querySelector(".score");
        const highScoreElement = document.querySelector(".high-score");
        const controls = document.querySelectorAll(".controls i");
        let gameOver = false;
        let foodX, foodY;
        let snakeX = 5, snakeY = 5;
        let velocityX = 0, velocityY = 0;
        let snakeBody = [];
        let setIntervalId;
        let score = 0;
        // Getting high score from the local storage
        let highScore = localStorage.getItem("high-score") || 0;
        highScoreElement.innerText = `High Score: ${highScore}`;
        const updateFoodPosition = () => {
            // Passing a random 1 - 30 value as food position
            foodX = Math.floor(Math.random() * 30) + 1;
            foodY = Math.floor(Math.random() * 30) + 1;
        }
        const handleGameOver = () => {
            // Clearing the timer and reloading the page on game over
            clearInterval(setIntervalId);
            alert("Game Over! Press OK to replay...");
            location.reload();
        }
        const changeDirection = e => {
            // Changing velocity value based on key press
            if(e.key === "ArrowUp" && velocityY != 1) {
                velocityX = 0;
                velocityY = -1;
            } else if(e.key === "ArrowDown" && velocityY != -1) {
                velocityX = 0;
                velocityY = 1;
            } else if(e.key === "ArrowLeft" && velocityX != 1) {
                velocityX = -1;
                velocityY = 0;
            } else if(e.key === "ArrowRight" && velocityX != -1) {
                velocityX = 1;
                velocityY = 0;
            }
        }
        // Calling changeDirection on each key click and passing key dataset value as an object
        controls.forEach(button => button.addEventListener("click", () => changeDirection({ key: button.dataset.key })));
        const initGame = () => {
            if(gameOver) return handleGameOver();
            let html = `<div class="food" style="grid-area: ${foodY} / ${foodX}"></div>`;
            // Checking if the snake hit the food
            if(snakeX === foodX && snakeY === foodY) {
                updateFoodPosition();
                snakeBody.push([foodY, foodX]); // Pushing food position to snake body array
                score++; // increment score by 1
                highScore = score >= highScore ? score : highScore;
                localStorage.setItem("high-score", highScore);
                scoreElement.innerText = `Score: ${score}`;
                highScoreElement.innerText = `High Score: ${highScore}`;
            }
            // Updating the snake's head position based on the current velocity
            snakeX += velocityX;
            snakeY += velocityY;
            
            // Shifting forward the values of the elements in the snake body by one
            for (let i = snakeBody.length - 1; i > 0; i--) {
                snakeBody[i] = snakeBody[i - 1];
            }
            snakeBody[0] = [snakeX, snakeY]; // Setting first element of snake body to current snake position
            // Checking if the snake's head is out of wall, if so setting gameOver to true
            if(snakeX <= 0 || snakeX > 30 || snakeY <= 0 || snakeY > 30) {
                return gameOver = true;
            }
            for (let i = 0; i < snakeBody.length; i++) {
                // Adding a div for each part of the snake's body
                html += `<div class="head" style="grid-area: ${snakeBody[i][1]} / ${snakeBody[i][0]}"></div>`;
                // Checking if the snake head hit the body, if so set gameOver to true
                if (i !== 0 && snakeBody[0][1] === snakeBody[i][1] && snakeBody[0][0] === snakeBody[i][0]) {
                    gameOver = true;
                }
            }
            playBoard.innerHTML = html;
        }
        updateFoodPosition();
        setIntervalId = setInterval(initGame, 100);
        document.addEventListener("keyup", changeDirection);
    </script>
</body>
</html>